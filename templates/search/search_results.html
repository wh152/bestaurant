{% extends 'base.html' %}
{% load staticfiles %}


{% block title_block %}
    Search Results
{% endblock %}

{% block body_block %}
    <h1 style="text-align: center;">Results for '{{ query }}'</h1>
    <br />
    <ul>
        {% for restaurant in restaurant_list %}
        <div>
            <tr scope="row">
                {% if restaurant.logo %}
                <td scope="col">
                    <img src="{{ MEDIA_URL }}{{ restaurant.logo }}" class="img-thumbnail" width="100" height="100">
                    {{ restaurant.restaurantName }} owned by 
                    <a href="{% url 'other:viewOneUser' restaurant.owner.username_slug %}">
                        {{ restaurant.owner.user.username }}
                    </a>
                </td>
                {% else %}
                <td scope="col">
                    {{ restaurant.restaurantName }}
                </td>
                {% endif %}

              <td scope="col">
                <p  class="card-title">Average Rating: 
                    {% if restaurant.averageRating %}
                        <!--Star Rating Functionality-->
                            {% for i in '0123456789' %}
                                {% if restaurant.averageRating >= forloop.counter %}
                                    <img src="{% static 'images/star.png' %}" width="25" height="25">
                                {% endif %}
                            {% endfor %}
                    {% else %}
                        Not Yet Reviewed
                    {% endif %}
                </p>
                <p>Category: {{ restaurant.category }}</p>
                <p>Description: The restaurant is located at {{ restaurant.address }} </p> 
                <!-- Review Links -->
                <li><a href="{% url 'other:reviewRestaurant' restaurant.restaurantNameSlugged %}">Rate and Review!</a></li>
                <li><a href="{% url 'other:viewRestaurantReviews' restaurant.restaurantNameSlugged %}">See Reviews</a></li>
              </td>
            </tr>
        </div>
        {% endfor %}
    </ul>

{% endblock %}